{
  "version": "v2.7.8",
  "_comment_2025-11-10": "reason: добавлены правила TOT001 и NEG001 — контроль итоговой суммы и отрицательных значений",

  "rules": {
    "BIN001": {
      "level": "ERROR",
      "system": {
        "message": "БИН поставщика отсутствует или некорректен",
        "details": "supplier_BIN missing or invalid",
        "suggestion": "Проверить заполнение БИН поставщика (12 цифр)"
      },
      "user": {
        "title": "Ошибка: не найден БИН поставщика",
        "description": "В документе отсутствует или неверно указан БИН поставщика.",
        "recommendation": "Введите корректный 12-значный БИН в поле «Поставщик»."
      }
    },

    "BIN002": {
      "level": "ERROR",
      "system": {
        "message": "БИН покупателя отсутствует или некорректен",
        "details": "recipient_BIN missing or invalid",
        "suggestion": "Проверить заполнение БИН покупателя (12 цифр)"
      },
      "user": {
        "title": "Ошибка: не найден БИН покупателя",
        "description": "В документе отсутствует или неверно указан БИН покупателя.",
        "recommendation": "Убедитесь, что БИН покупателя состоит из 12 цифр без пробелов и букв."
      }
    },

    "BIN007": {
      "level": "WARN",
      "system": {
        "message": "БИН поставщика совпадает с БИН покупателя",
        "details": "supplier_BIN == recipient_BIN",
        "suggestion": "Проверьте корректность контрагентов — в большинстве случаев БИНы должны отличаться"
      },
      "user": {
        "title": "Совпадение БИН поставщика и покупателя",
        "description": "БИН поставщика совпадает с БИН покупателя. Это нетипично для обычных сделок.",
        "recommendation": "Проверьте правильность указанных БИНов контрагентов."
      },
      "ok_user": {
        "title": "БИНы поставщика и покупателя различаются",
        "description": "БИНы различаются — контрагенты указаны корректно.",
        "recommendation": ""
      }
    },

    "D000": {
      "level": "ERROR",
      "system": {
        "message": "Дата документа отсутствует или нераспознана",
        "details": "issue_date missing or unparsable",
        "suggestion": "Указать дату в формате ГГГГ-ММ-ДД или ДД.ММ.ГГГГ"
      },
      "user": {
        "title": "Ошибка: не указана дата документа",
        "description": "В документе отсутствует дата или она не распознана.",
        "recommendation": "Укажите корректную дату составления счёта-фактуры."
      }
    },

    "D001": {
      "level": "ERROR",
      "system": {
        "message": "Дата документа в будущем",
        "details": "issue_date is in the future",
        "suggestion": "Проверьте корректность даты (не может быть позже текущей)"
      },
      "user": {
        "title": "Ошибка: дата документа в будущем",
        "description": "Дата выписки больше текущей даты.",
        "recommendation": "Исправьте дату на фактическую дату выписки."
      }
    },

    "BIN012": {
      "level": "ERROR",
      "system": {
        "message": "Контрольная сумма БИН не сошлась",
        "details": "BIN checksum (KZ mod11) failed",
        "suggestion": "Проверьте корректность введённого БИН (последняя цифра — контрольная)"
      },
      "user": {
        "title": "Ошибка контрольной суммы БИН",
        "description": "Указанный БИН не проходит контрольную проверку.",
        "recommendation": "Перепроверьте БИН в первичных документах или уточните у контрагента."
      }
    },

    "TOT001": {
      "level": "ERROR",
      "system": {
        "message": "Итоговая сумма отсутствует или некорректна",
        "details": "total_amount missing or <= 0",
        "suggestion": "Проверьте, что сумма документа указана и больше нуля"
      },
      "user": {
        "title": "Ошибка: не указана итоговая сумма",
        "description": "В документе отсутствует или указана нулевая сумма.",
        "recommendation": "Укажите корректную общую сумму документа."
      }
    },

    "NEG001": {
      "level": "WARN",
      "system": {
        "message": "Обнаружено отрицательное значение суммы",
        "details": "total_amount < 0",
        "suggestion": "Проверьте корректность знака суммы"
      },
      "user": {
        "title": "Отрицательная сумма документа",
        "description": "Итоговая сумма указана со знаком минус.",
        "recommendation": "Проверьте корректность знака суммы."
      }
    }
  }
}
