{
  "version": "v2.5",
  "_comment_2025_11_08": "Добавлены человеко-понятные тексты для успешных проверок (user.ok / success_text). Причина: выводить ОК-сообщения понятным языком в GUI; технические тексты остаются в логах.",
  "rules": {
    "BIN001": {
      "level": "ERROR",
      "system": {
        "message": "БИН поставщика отсутствует или некорректен",
        "details": "supplier_BIN missing or invalid",
        "suggestion": "Проверить заполнение БИН поставщика (12 цифр)"
      },
      "user": {
        "title": "Ошибка: не найден БИН поставщика",
        "description": "В документе отсутствует или неверно указан БИН поставщика.",
        "recommendation": "Введите корректный 12-значный БИН в поле «Поставщик».",
        "ok": "БИН поставщика корректный.",
        "success_text": "БИН поставщика корректный."
      }
    },
    "BIN002": {
      "level": "ERROR",
      "system": {
        "message": "БИН покупателя отсутствует или некорректен",
        "details": "recipient_BIN missing or invalid",
        "suggestion": "Проверить заполнение БИН покупателя (12 цифр)"
      },
      "user": {
        "title": "Ошибка: не найден БИН покупателя",
        "description": "В документе отсутствует или неверно указан БИН покупателя.",
        "recommendation": "Убедитесь, что БИН покупателя состоит из 12 цифр без пробелов и букв.",
        "ok": "БИН покупателя корректный.",
        "success_text": "БИН покупателя корректный."
      }
    },
    "D000": {
      "level": "ERROR",
      "system": {
        "message": "Дата документа отсутствует или нераспознана",
        "details": "date_issue missing or invalid",
        "suggestion": "Проверить наличие и формат даты (ГГГГ-ММ-ДД)"
      },
      "user": {
        "title": "Ошибка: не указана дата выставления",
        "description": "Дата выписки счёта-фактуры отсутствует или указана в неверном формате.",
        "recommendation": "Введите корректную дату в формате ГГГГ-ММ-ДД.",
        "ok": "Дата выписки указана и распознана.",
        "success_text": "Дата выписки указана и распознана."
      }
    },
    "D001": {
      "level": "WARN",
      "system": {
        "message": "Дата выписки указана в будущем",
        "details": "issue_date > today",
        "suggestion": "Сверить дату выписки с текущей датой"
      },
      "user": {
        "title": "Предупреждение: дата выписки в будущем",
        "description": "Дата документа позже текущей даты.",
        "recommendation": "Проверьте, возможно документ ещё не должен быть выписан.",
        "ok": "Дата выписки не позже текущей даты.",
        "success_text": "Дата выписки не позже текущей даты."
      }
    },
    "TOT001": {
      "level": "ERROR",
      "system": {
        "message": "Сумма строк не равна итогу документа",
        "details": "total_calc != total_field",
        "suggestion": "Проверить расчёт итога по строкам"
      },
      "user": {
        "title": "Ошибка: суммы не совпадают",
        "description": "Сумма по строкам документа не совпадает с итоговой суммой.",
        "recommendation": "Перепроверьте все позиции и убедитесь, что итог соответствует строкам.",
        "ok": "Итоговая сумма совпадает с суммой по строкам.",
        "success_text": "Итоговая сумма совпадает с суммой по строкам."
      }
    },
    "NEG001": {
      "level": "ERROR",
      "system": {
        "message": "Общая сумма документа отрицательная",
        "details": "total_amount < 0",
        "suggestion": "Проверить знаки сумм в строках и итого"
      },
      "user": {
        "title": "Ошибка: сумма документа отрицательная",
        "description": "Общая сумма документа меньше нуля.",
        "recommendation": "Проверьте корректность чисел в строках — не должны быть отрицательными.",
        "ok": "Сумма документа не отрицательная.",
        "success_text": "Сумма документа не отрицательная."
      }
    },
    "XML001": {
      "level": "ERROR",
      "system": {
        "message": "Некорректная структура XML",
        "details": "ParseError or missing root tags",
        "suggestion": "Проверить корректность XML-документа (ИС ЭСФ)"
      },
      "user": {
        "title": "Ошибка: XML-документ повреждён",
        "description": "Не удалось прочитать структуру XML-файла.",
        "recommendation": "Попробуйте заново экспортировать ЭСФ с портала или из 1С.",
        "ok": "XML-документ корректен и читается.",
        "success_text": "XML-документ корректен и читается."
      }
    }
  }
}